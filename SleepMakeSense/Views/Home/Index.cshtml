@using SleepMakeSense.Models

@model HomePageViewModel

@{
    ViewBag.Title = "SleepBeta";
}


<!-- Pandita:If user is already logged in, direct to Devices.cshtml; else, direct to log in page -->
@*
    Updated to be a login/regrestration screen.
    If the uers is logged in, they will be propted to either create and account or log in
    If they are logged in, they will be propted to sync there data and load the next page
    If the user has not connected their FitBit, it will prompt, however this is broken //Pandita: broken??
    Done By Sean - 21/5/16
    style="@((bool)Model.Userdata.DiaryDataNight ? "display:none" : "display:"
*@

<div class="jumbotron">
    <div class="container">
        <h1>SleepBeta</h1>
        @if (Request.IsAuthenticated == false)
        {

            <p><a href="/Account/Register" class="btn btn-primary btn-lg">Create an Account</a></p>
            <p><a href="/Account/Login" class="loginbtn">Login</a></p>
        }
        else
        {
            <p>@Html.ActionLink("See My Sleeping Habits", "DirectToSync", "Fitbit", new { }, new { @class = "btn btn-primary btn-lg" })</p>
            if (!Model.TodayDiaryEntry && Model.DiarySetup)
            {<p>@Html.ActionLink("Log today's Diary Info", "EnterDiaryData", "DiaryData", new { }, new { @class = "btn btn-primary btn-lg" })</p>}


            else if (Model.TodayDiaryEntry && Model.DiarySetup)
            {
                <i style="font-size:small ">Today has already had todays diary infromation saved.</i>
                <p>@Html.ActionLink("Log today's Diary Info", "EnterDiaryData", "DiaryData", new { }, new { @class = "btn btn-success btn-sm" })</p>
                <i style="font-size:small ">Do you want to update it?</i>
            }


            if (!Model.DiarySetup)
            {<p>@Html.ActionLink("Setup Diary Data", "DiaryDataSetup", "DiaryData", new { }, new { @class = "btn btn-primary btn-lg" })</p>}
        }



        @*
                Work in progress
            else if (Request.IsAuthenticated == false && ViewBag.FitbitConnected == false)
            {
                <p>
            <a href="/Fitbit/Authorize" class="btn btn-primary">Connect My Fitbit &raquo;</a></p>
            }
            else if (Request.IsAuthenticated == false && ViewBag.FitbitConnected)
            {
                <p><a href="/Userdatas/Sync" class="btn btn-primary">See Your Stats &raquo;</a></p>
            }
            else
            {
                <p class="lead">Error: Viewbag (FitBit not being Checked)</p>
            }
        *@
    </div>
</div>


<div class="container">
    <div class="row">
        <div class="col-sm-4">
            <h2 class="h-center"> Personalised</h2>
            <p class="p-center">
                SleepBeta helps draw conclusions from your own personal data. Track these common lifestyle factors and see how they impact your sleep.
            </p>
        </div>
        <div class="col-sm-4">
            <h2 class="h-center"> Explore </h2>
            <p class="p-center">
                Sync and integrate your self-tracking data and get insights
                right away. SleepBeta supports easy data integration from various tracking devices and mobile apps.
            </p>
        </div>
        <div class="col-sm-4">
            <h2 class="h-center"> Track </h2>
            <p class="p-center"> SleepBeta not only tracks your sleep and lifestyle factors. This combination of data can help you understand what is good and bad for your sleep.</p>
        </div>
    </div>
</div>